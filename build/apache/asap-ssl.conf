<IfModule mod_ssl.c>
<VirtualHost *:8080>
        ServerName exlab-sapir.com:8080

        DocumentRoot /var/www/asap/static
        <Directory /var/www/asap/static>
            Require all granted
        </Directory>

        WSGIPassAuthorization On
        WSGIDaemonProcess asap python-home=/var/www/asap/venv
        WSGIProcessGroup asap
        WSGIApplicationGroup %{GLOBAL}
        WSGIScriptAlias /api /var/www/asap/server/asap/wsgi.py process-group=asap
        <Directory /var/www/asap/server/asap>
            Require all granted
        </Directory>

        Alias /api/static/ /var/www/asap/server/static/
        <Directory /var/www/asap/server/static/>
            Require all granted
        </Directory>

        ErrorLog ${APACHE_LOG_DIR}/asap-app.log
        CustomLog ${APACHE_LOG_DIR}/access.log combined

        Include /etc/letsencrypt/options-ssl-apache.conf
        SSLCertificateFile /etc/letsencrypt/live/exlab-sapir.com/fullchain.pem
        SSLCertificateKeyFile /etc/letsencrypt/live/exlab-sapir.com/privkey.pem
</VirtualHost>
</IfModule>
